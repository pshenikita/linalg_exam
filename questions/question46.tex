\section{Аффинное пространство, основные пониятия. Аффинизация векторного пространства. Аффинная система координат, изменение координат при замене системы координат}

В геометрии на плоскости или в пространстве рассматриваются точки и векторы. Для формализации этих понятий и взаимосвязей между ними служит понятие аффинного пространства.

\begin{definition}
    \textit{Аффинным пространством} называется пара $(\A, V)$, состоящая из множества $\A$, элементы которого называются \textit{точками}, и векторного пространства $V$ над полем $\F$ с дополнительной операцией сложения
    \[
        +: \A \times V \to \A,\quad (p, v) \to p + v,
    \]
    которая удовлетворяет следующим аксиомам:
    \begin{enumerate}[nolistsep]
        \item $p + \bs{0} = p$ $\forall p \in \A$;
        \item $(p + u) + v = p + (u + v)$ $\forall p \in \A$;
        \item $\forall p, q \in \A$ $\exists!v \in V : p + v = q$.
    \end{enumerate}

    \textit{Размерностью} $\dim(\A, V)$ аффинного пространства $(\A, V)$ называется размерность векторного пространства $V$.
\end{definition}

Часто аффинным пространством называют просто множество точек $\A$ из определения выше (особено когда из контектса понятно, какое векторное пространство $V$ имеется в виду). Вектор $v \in V$, однозначно сопоставляемый паре точек $p, q \in \A$ в силу свойства 3 обозначается $\overline{pq}$. Тогда из свойства 2 вытекает, что $\overline{pq} + \overline{qr} = \overline{pr}$.

\begin{remark}
    Свойства 1 и 2 из определения аффинного пространства означают, что на множестве $\A$ задано действие абелевой группы векторов пространства $V$. Свойство 3 по определению означает, что это действие свободно и транзитивно. Множество, на котором задано свободное и транзитивное действие группы $G$. Таким образом, аффинное пространство $\A$ --- это главное однородное пространство абелевой группы $V$.
\end{remark}

\begin{remark}
    \begin{enumerate}[nolistsep]
        \item Точки плоскости и трёхмерного пространства образуют аффинные пространства.
        \item Рассмотрим совместную неоднородную систему линейных уравнений $Ax = b$, где $A$ --- матрица, а $x$ и $b$ --- столбцы. Пусть $\A$ --- множество решений $x$ этой системы, а $V$ --- векторное пространство решений $y$ однородной системы $Ay = 0$. Тогда $(\A, V)$ аффинное пространство. Действительно, если $x \in \A$ и $y \in V$, то $A(x + y) = Ax + Ay = b$, поэтому $x + y \in \A$.
        \item Из всякого векторного пространства $V$ можно получить аффинное пространство, взяв в качестве $\A$ множество векторов $V$; при этом сложение точек и векторов это просто сложение векторов в исходном пространстве $V$. Аффинное пространство, получаемое при помощи этой процедуры (\textit{аффинизации}) из $\F^n$, мы будем обозначать через $\mathbb{A}^n$.
    \end{enumerate}
\end{remark}

\begin{definition}
    \textit{Аффинной системой координат} (или \textit{репером}) в аффинном пространстве $(\A, V)$ называется набор $(o; e_1, \ldots, e_n)$, состоящий из точки $o \in \A$, называемой \textit{началом отсчёта}, и базиса $e_1, \ldots, e_n$ в векторном пространстве $V$.

    \textit{Координатами} точки $p \in \A$ в системе координат $(o; e_1, \ldots, e_n)$ называются координаты $x^1, \ldots, x^n$ вектора $\overline{op}$ в базисе $e_1, \ldots, e_n$, т.\,е.
    \[
        \overline{op} = x^1e_1 + \ldots + x^ne_n.
    \]
\end{definition}

Из равенства $\overline{ab} = \overline{ob} - \overline{oa}$ следует, что если даны координаты $(a_1, \ldots, a_n)$ точки $a$ и координаты $(b_1, \ldots, b_n)$ точки $b$ в системе координат $(o; e_1, \ldots, e_n)$, то координаты вектора $\overline{ab}$ в базисе $e_1, \ldots, e_n$ равны $(b_1 - a_1, \ldots, b_n - a_n)$. Обратно, если $b = a + v$ и даны координаты $(a_1, \ldots, a_n)$ точки $a$ в системе координат $(o; e_1, \ldots, e_n)$ и координаты $(v_1, \ldots, v_n)$ вектора $v$ в базисе $e_1, \ldots, e_n$, то координаты точки $b$ в системе координат $(o; e_1, \ldots, e_n)$ равны $(a_1 + v_1, \ldots, a_n + v_n)$. В силу этих равенств вектор $\overline{pq}$ можно также обозначать через $q - p$.

\begin{remark}
    Систему координат можно задать также $n + 1$ точками $\{o, a_1, \ldots, a_n\}$ такими, что векторы $\overline{oa_1}, \ldots, \overline{oa_n}$ образуют базис пространства $V$.
\end{remark}

Пусть в аффинном пространстве $(\A, V)$ даны две аффинные системы координат $(o; e_1, \ldots, e_n)$ и $(o^\prime; e_{1^\prime}, \ldots, e_{n^\prime})$. Рассмотрим произвольную точку $a \in \A$. Из равенства $\overline{oa} = \overline{o^\prime a} + \overline{o^\prime o}$, учитывая выведенную нами формулу преобразования координат вектора при переходе к другому базису, получаем формулу преобразования координат точки при переходе к другой системе координат:
\[
    X = C_{e \to e^\prime}X^\prime + X_o,
\]
где $C_{e \to e^\prime}$ --- матрица перехода от базиса $e$ к базису $e^\prime$, $X$ --- столбец координат точки $a$ в $(o; e_1, \ldots, e_n)$, $X^\prime$ --- столбец координат точки $A$ в $(o^\prime; e_{1^\prime}, \ldots, e_{n^\prime})$, $X_o$ --- столбец координат точки $o^\prime$ в $(o; e_1, \ldots, e_n)$.

\begin{definition}
    \textit{Матрицей перехода} от $(o; e_1, \ldots, e_n)$ к $(o^\prime; e_{1^\prime}, \ldots, e_{n^\prime})$ называется блочная матрица
    \[
        \widehat{C} \vcentcolon =
        \begin{pmatrix}
            C_{e \to e^\prime} & X_o\\
            0 & 1
        \end{pmatrix}.
    \]
    Имеем
    $
    \begin{pmatrix}
        X\\
        1
    \end{pmatrix} = \widehat{C}
    \begin{pmatrix}
        X^\prime\\
        1
    \end{pmatrix}
    $.
\end{definition}

