\section{Ортогональное дополнение. Разложение евклидова пространства в прямую сумму подпространства и ортогонального дополнения к нему. Ортогональная проекция}

\begin{definition}
    Пусть $W \subset V$ --- подпространство евклидова или эрмитова пространства $V$. \textit{Ортогональным дополнением} к $W$ называется множество $W^\perp$, состоящее из векторов. ортогональных всем векторам из $W$, т.\,е.
    \[
        W^\perp \vcentcolon = \{v \in V : (v, w) = 0\ \forall w \in W\}.
    \]
\end{definition}

Легко видеть, что ортогональное дополнение являеся подпространством.

\begin{proposal}
    Для любого подпространства $W \subset V$ имеет место разложение $V = W \oplus W^\perp$.
\end{proposal}

\begin{proof}
    Пусть $a_1, \ldots, a_k$ --- базис в $W$, дополним его до базиса всего пространства $V$ векторами $a_{k + 1}, \ldots, a_n$. Применив ортогонализацию Грама "---Шмидта, получим ортогональный базис $b_1, \ldots, b_k, b_{k + 1}, b_n$ в $V$, причём его первые $k$ векторов будут базисом в $W$, т.\,к. $\langle b_1, \ldots, b_k\rangle = \langle a_1, \ldots, a_k\rangle = W$. В то же время, $b_{k + 1}, \ldots, b_n$ лежат в $W^\perp$ по определению ортогонального дополнения. Итак, $\forall v \in V$ мы имеем разложение по базису
    \[
        v = \underbrace{\lambda_1b_1 + \ldots + \lambda_kb_k}_{{} \in W} + \underbrace{\lambda_{k + 1}b_{k + 1} + \lambda_nb_n}_{{} \in W^\perp},
    \]
    т.\,е. $V = W + W^\perp$.

    Осталось доказать, что эта сумма прямая. Пусть $v \in W \cap W^\perp$. Т.\,к. $v \in W^\perp$, мы имеем $(v, w) = 0$ $\forall w \in W$. Т.\,к. $v \in W$, можно взять $w \vcentcolon = v$. Тогда $(v, v) = 0$, т.\,е. $v = \bs{0}$, и наша сумма прямая.
\end{proof}

\begin{definition}
    Пусть $W \subset V$ --- подпространство евклидова или эрмитова пространства. Для произвольного вектора $v \in V$ запишем разложение $v = v_1 + v_2$, где $v_1 \in W$, $v_2 \in W^\perp$. Тогда вектор $v_1$ называется \textit{ортогональной проекцией} вектора $v$ на подпространство $W$ и обозначается $\pr_Wv$, а вектор $v_2 = v - \pr_Wv$ называется \textit{ортогональной составляющей} вектора $v$ относительно подпространства $W$ и обозначается $\ort_Wv$.
\end{definition}

Ясно, что $\ort_Wv = \pr_{W^\perp}v$.

\begin{proposal}
    Пусть подпространство $W \subset V$ задано как линейная оболочка системы векторов: $W = \langle a_1, \ldots, a_k\rangle$. Тогда проекция вектора $v \in V$ на $W$ есть линейная комбинация $\pr_Wv = \lambda_1a_1 + \ldots + \lambda_ka_k$, коэффициенты которой находятся из системы линейный уравнений
    \[
        \begin{cases}
            (a_1, a_1)\lambda_1 + (a_1, a_2)\lambda_2 + \ldots + (a_1, a_k)\lambda_k = (a_1, v),\\
            (a_2, a_1)\lambda_1 + (a_2, a_2)\lambda_2 + \ldots + (a_2, a_k)\lambda_k = (a_2, v),\\
            \dotfill\\
            (a_k, a_1)\lambda_1 + (a_k, a_2)\lambda_2 + \ldots + (a_k, a_k)\lambda_k = (a_k, v).
        \end{cases}
    \]
\end{proposal}

\begin{proof}
    Запишем $v = \pr_Wv + \ort_Wv$. Тогда $\ort_Wv = v - \lambda_1a_1 - \ldots - \lambda_ka_k$ ортогонален каждому из векторов $a_1, \ldots, a_k$. Взяв скалярное произведение $a_i$ с $\ort_Wv$, мы получаем
    \[
        (a_i, v - \lambda_1a_1 - \ldots - \lambda_ka_k) = 0,
    \]
    что эквивалентно $i$-му уравнению системы.
\end{proof}

